<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ciao sono Greg</title>

  <style>
    :root{
      --tile: 90px;
      --gap: 30px;
      --portfolioPadL: 38px;
      --gridPadL: 10px;

      --belowOffset: -120px;
      --projectGap: 130px;

      --socialTop: calc(20px + (var(--tile) * 2) - 10px);
      --topProjectsExtra: 260px;

      --uiRow: 32px;
      --uiTextInset: 8px;
      --overlapMono: 80px;
    }

    *{ box-sizing: border-box; }

    body{
      margin: clamp(16px, 3.5vw, 36px);
      background: #000;
      color: #fff;
      font-family: Helvetica, Arial, sans-serif;
      font-size: clamp(14.5px, 1.2vw, 16.5px);
      line-height: 1.5;
    }

    p{ margin: 0; }

    a{
      color: inherit;
      text-decoration: none;
      transition: opacity 150ms ease, transform 150ms ease;
    }
    a:hover{
      opacity: 0.6;
      transform: translateX(2px);
    }

    /* ✅ CURSORE: SOLO CSS, CON FALLBACK MULTIPLI
       (funziona se ./cursor/Red_star.png esiste davvero) */
    html, body, body *{
      cursor:
        url("cursor/Red_star.png") 16 16,
        url("./cursor/Red_star.png") 16 16,
        url("/cursor/Red_star.png") 16 16,
        auto !important;
    }

    /* Se vuoi la stella anche "sopra" i frame, commenta questo blocco */
    .embed, .embed *{ cursor: auto !important; }

    /* 
.embed, .embed *{
  cursor: auto !important;
}
*/


    .top > *, .below > *{ min-width: 0; }

    .top,
    .below{
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(280px, 480px);
      gap: clamp(18px, 3.5vw, var(--gap));
    }

    .top{ position: relative; z-index: 2; }
    .below{
      position: relative;
      z-index: 1;
      margin-top: var(--belowOffset);
      align-items: start;
    }

    .right{
      padding-top: 20px;
      position: relative;
      min-height: calc(var(--tile) * 3);
      overflow: visible;
    }

    .desc{
      margin-top: 6px;
      font-size: 17px;
      line-height: 1.55;
      padding-left: var(--uiTextInset);
      max-width: 60ch;
      overflow-wrap: anywhere;
    }

    .social{
      position: absolute;
      top: var(--socialTop);
      left: 0;
      display: grid;
      grid-template-columns: auto auto;
      column-gap: 4px;
      font-size: 17px;
      white-space: nowrap;
    }

    .social a,
    .top-projects a{
      height: var(--uiRow);
      line-height: var(--uiRow);
      display: flex;
      align-items: center;
      padding: 0 14px 0 var(--uiTextInset);
      transition: background 150ms ease, color 150ms ease;
    }

    .social a:hover,
    .top-projects a:hover{
      background: #fff;
      color: #000;
      opacity: 1;
      transform: none;
    }

    .top-projects{
      position: absolute;
      top: calc(var(--socialTop) + var(--topProjectsExtra));
      left: 0;
      display: grid;
      grid-template-columns: auto auto;
      column-gap: 4px;
      font-size: 17px;
      white-space: nowrap;
      z-index: 3;
    }

    .dock-grid{ padding-left: var(--gridPadL); }
    .dock-grid .row{ display: flex; }

    .letter{
      width: var(--tile);
      height: var(--tile);
      display: flex;
      align-items: center;
      justify-content: center;
      background: #000;
      transition: background 150ms ease;
      flex: 0 0 auto;
    }

    .char{
      font-size: 42px;
      font-weight: 700;
      color: #fff;
      user-select: none;
      transition: color 150ms ease, transform 150ms ease;
    }

    .letter:hover{ background: #fff; }
    .letter:hover .char{ color: #000; transform: scale(1.5); }

    .portfolio{
      padding-left: var(--portfolioPadL);
      min-width: 0;
    }

    .project{ margin-top: var(--projectGap); }
    .project:first-of-type{ margin-top: 0; }
    #progetto3{ margin-top: calc(var(--projectGap) - var(--overlapMono)); }

    .embed{
      width: 100%;
      aspect-ratio: 1 / 1;
      overflow: hidden;
      background: #000;
      margin-bottom: 20px;
    }
    .embed iframe{
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
    }

    .side-desc{ position: relative; min-width: 0; }
    .side-text{
      position: absolute;
      width: 100%;
      font-size: 17px;
      line-height: 1.55;
      overflow-wrap: anywhere;
    }
    .side-text h4{ margin: 0 0 6px; font-size: 17px; font-weight: 700; }
    .side-text p{ margin-bottom: 22px; }

    @media (max-width: 980px){
      .top, .below{ grid-template-columns: 1fr; }
      .portfolio{ padding-left: 0; }
      .side-desc{ display: none; }

      .right{ padding-top: 10px; min-height: auto; }
      .desc{ padding-left: 0; }

      .social,
      .top-projects{
        position: static;
        margin-top: 14px;
        white-space: normal;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }

      .social a,
      .top-projects a{
        height: auto;
        line-height: 1.25;
        padding: 8px 10px;
        border: 1px solid rgba(255,255,255,0.18);
      }

      .below{ margin-top: 28px; }
    }

    @media (max-width: 520px){
      :root{ --tile: 70px; --gridPadL: 0px; }
      .char{ font-size: 34px; }
      .social, .top-projects{ grid-template-columns: 1fr; }
    }

    html, body, body *{
  cursor: url("./cursor/Red_star.png") 16 16, auto !important;
}

  </style>
</head>

<body>
  <div class="top">
    <div class="left">
      <div class="dock-grid">
        <div class="row">
          <span class="letter"><span class="char">G</span></span>
          <span class="letter"><span class="char">R</span></span>
          <span class="letter"><span class="char">E</span></span>
          <span class="letter"><span class="char">G</span></span>
        </div>
        <div class="row">
          <span class="letter"><span class="char">O</span></span>
          <span class="letter"><span class="char">R</span></span>
          <span class="letter"><span class="char">I</span></span>
          <span class="letter"><span class="char">O</span></span>
        </div>
        <div class="row">
          <span class="letter"><span class="char">R</span></span>
          <span class="letter"><span class="char">I</span></span>
          <span class="letter"><span class="char">V</span></span>
          <span class="letter"><span class="char">A</span></span>
        </div>
      </div>
    </div>

    <div class="right">
      <p class="desc">
        Mi chiamo Gregorio, ma potete chiamarmi Greg!<br>
        Studio comunicazione visiva alla SUPSI/DACD di Mendrisio. Questo sito è il mio spazio personale dove raccolgo progetti<br>
        e idee in evoluzione.
      </p>

      <div class="social">
        <a href="https://www.instagram.com/g.orilla.art/">Instagram</a>
        <a href="mailto:greg.riva@bluewin.ch">Email personale</a>
        <a href="https://github.com/GregorioRiva">Github</a>
        <a href="mailto:gregorio.riva@student.supsi.ch">Email SUPSI</a>
      </div>

      <div class="top-projects" aria-label="Progetti">
        <a href="#autoritratto2d">Autoritratto 2D</a>
        <a href="#autoritratto3d">Autoritratto 3D</a>
        <a href="#progetto3">Caratteri in movimento</a>
        <a href="#progetto4">Data Self-Portrait</a>
      </div>
    </div>
  </div>

  <div class="below">
    <div class="portfolio">
      <section class="project" id="autoritratto2d">
        <div class="embed">
          <iframe src="Autoritratto2D/index.html"></iframe>
        </div>
      </section>

      <section class="project" id="autoritratto3d">
        <div class="embed">
          <iframe src="Autoritratto3D/index.html"></iframe>
        </div>
      </section>

      <section class="project" id="progetto3">
        <div class="embed">
          <iframe src="Caratteri/index.html"></iframe>
        </div>
      </section>

      <section class="project" id="progetto4">
        <div class="embed">
          <iframe src="DataLetterboxd/index.html"></iframe>
        </div>
      </section>
    </div>

    <div class="side-desc">
      <div class="side-text" data-target="autoritratto2d">
        <h4>Autoritratto 2D</h4>
        <p>
          Un autoritratto bidimensionale derivato da una fotografia frontale,
          monocromatica e analizzata a livello di pixel.
          Ogni pixel corripsonde a un cerchio, generando una trama puntinata
          deformata da un sistema di forze simile a una calamita virtuale.
        </p>
      </div>

      <div class="side-text" data-target="autoritratto3d">
        <h4>Autoritratto 3D</h4>
        <p>
          Un autoritratto tridimensionale importato da un'applicazione di scansione 3D.
          La forma si sviluppa nello spazio come struttura dinamica, e reattiva all’interazione.
        </p>
      </div>

      <div class="side-text" data-target="progetto3">
        <h4>Caratteri in movimento</h4>
        <p>
          Monogramma generativo “GR” con disturbo a strisce: alterna glitch, pausa leggibile e scomposizione finale.
          La G scorre verso sinistra e la R verso destra, con timing scaglionato.
        </p>
      </div>

      <div class="side-text" data-target="progetto4">
        <h4>Data Self-Portrait</h4>
        <p>
          Visualizzazione dei film visti a partire dai dati esportati da Letterboxd.
          Ogni film è associato a un genere dominante, normalizzato in un set limitato e coerente,
          per costruire un grafico essenziale che evidenzia pattern e preferenze.
        </p>
      </div>
    </div>
  </div>

  <script>
    const OFFSET_DEFAULT = -200;
    const OFFSET_MONOGRAMMA = -340;
    const OFFSET_DATALB = -500;
    const MIN_GAP = 20;

    function docTop(el){ return el.getBoundingClientRect().top + window.scrollY; }
    function docBottom(el){ const r = el.getBoundingClientRect(); return r.bottom + window.scrollY; }

    function alignDescriptions(){
      const sideDesc = document.querySelector('.side-desc');
      if (!sideDesc) return;

      const sideTop = docTop(sideDesc);
      let lastBottom = -Infinity;

      document.querySelectorAll('.side-text').forEach(desc => {
        const target = document.getElementById(desc.dataset.target);
        if (!target) return;

        const embed = target.querySelector('.embed');
        let y = 0;

        if (embed){
          let offset = OFFSET_DEFAULT;
          if (desc.dataset.target === 'progetto3') offset = OFFSET_MONOGRAMMA;
          if (desc.dataset.target === 'progetto4') offset = OFFSET_DATALB;
          y = docBottom(embed) - sideTop + offset;
        }

        if (y < lastBottom + MIN_GAP) y = lastBottom + MIN_GAP;

        desc.style.top = y + 'px';
        lastBottom = y + desc.offsetHeight;
      });

      const portfolio = document.querySelector('.portfolio');
      if (portfolio) sideDesc.style.minHeight = portfolio.offsetHeight + 'px';
    }

    let ticking = false;
    function requestAlign(){
      if (ticking) return;
      ticking = true;
      requestAnimationFrame(() => { alignDescriptions(); ticking = false; });
    }

    window.addEventListener('load', () => {
      alignDescriptions();
      document.querySelectorAll('.embed iframe').forEach(f => f.addEventListener('load', requestAlign));
    });
    window.addEventListener('resize', requestAlign);
    window.addEventListener('scroll', requestAlign, { passive: true });
  </script>
</body>
</html>
